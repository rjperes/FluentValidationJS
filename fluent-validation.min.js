/** FluentValidationJS (A fluent validation library for JavaScript) https://github.com/rjperes/FluentValidationJS Copyright (c) Ricardo Peres 2016 */function Validation(obj){this.obj=obj,this.negated=!1,this.reporting(null),this.errors=[]}function findFirstOfType(args,type){for(var i=0;i<args.length;++i)if(typeof args[i]===type)return args[i]}function getArguments(args,array){var newArray=args,i;if(!(args instanceof Array))for(newArray=[args],i=1;i<array.length;++i)newArray.push(array[i]);return newArray}Validation.ExceptionReporting=function(msg){throw new Error(msg)},Validation.ConsoleReporting=function(msg){console.log(msg)},Validation.AlertReporting=function(msg){window.alert(msg)},Validation.prototype.assert=function(error,msg){error!=this.negated&&(this.errors.push(msg),this.report(msg))},Validation.prototype.throwOnError=function(){0!=this.errors.length&&Validation.ExceptionReporting(this.errors[0])},Validation.prototype.getErrors=function(){return this.errors},Validation.prototype.hasErrors=function(){return 0!=this.errors.length},Validation.prototype.check=function(){return 0==this.errors.length},Validation.prototype.clear=function(){return this.errors=[],this},Validation.prototype.reporting=function(fn){return fn&&"function"==typeof fn||(fn=function(msg){Validation.ConsoleReporting(msg)}),this.report=fn,this},Validation.prototype.isValid=function(fn,msg){var self=this;msg=msg||"Validation failed: custom validation function";var error=!0!==fn(this.obj);return this.assert(error,msg),this},Validation.prototype.isTruthy=function(msg){var self=this;msg=msg||"Validation failed: object is falsey";var error=!this.obj;return this.assert(error,msg),this},Validation.prototype.isFalsey=function(msg){var self=this;msg=msg||"Validation failed: object is truthy";var error=!!this.obj;return this.assert(error,msg),this},Validation.prototype.isOneOf=function(args){var self=this,msg="Validation failed: objects do not match",error=arguments.length>0,i;for(args=getArguments(args,arguments),i=0;i<args.length;++i)if(this.obj==args[i]){error=!1;break}return this.assert(error,msg),this},Validation.prototype.isNoneOf=function(args){var self=this,msg="Validation failed: objects do not match",error=!1,i;for(args=getArguments(args,arguments),i=0;i<args.length;++i)if(this.obj==args[i]){error=!0;break}return this.assert(error,msg),this},Validation.prototype.contains=function(value,msg){var self=this;msg=msg||"Validation failed: object does not contain target";var error=0!=this.obj.length,i;for(i=0;i<this.obj.length;++i)if(this.obj[i]==value){error=!1;break}return this.assert(error,msg),this},Validation.prototype.isEqualTo=function(value,arg1,arg2){var self=this,caseInsensitive=findFirstOfType([arg1,arg2],"boolean")||!1,msg=findFirstOfType([arg1,arg2],"string")||"Validation failed: objects do not match",left=this.obj.toString(),right=value.toString(),error;return caseInsensitive&&(left=left.toLowerCase(),right=right.toLowerCase()),error=left!=right,this.assert(error,msg),this},Validation.prototype.isString=function(msg){var self=this;msg=msg||"Validation failed: object is not a string";var error="string"!=typeof this.obj&&this.obj.toString()!=obj;return this.assert(error,msg),this},Validation.prototype.isNotNullOrWhitespace=function(msg){var self=this;msg=msg||"Validation failed: object is null or whitespace";var error=null===this.obj||0==this.obj.toString().trim().length;return this.assert(error,msg),this},Validation.prototype.isNumber=function(msg){var self=this;msg=msg||"Validation failed: object is not a number";var error="number"!=typeof this.obj&&Number(this.obj)!=this.obj;return this.assert(error,msg),this},Validation.prototype.isPositive=function(msg){var self=this;msg=msg||"Validation failed: object is not a number";var error=Number(this.obj)<=0;return this.assert(error,msg),this},Validation.prototype.isNegative=function(msg){var self=this;msg=msg||"Validation failed: object is not a number";var error=Number(this.obj)>=0;return this.assert(error,msg),this},Validation.prototype.isOdd=function(msg){var self=this;msg=msg||"Validation failed: object is not odd";var error=Number(this.obj)%2==0;return this.assert(error,msg),this},Validation.prototype.isEven=function(msg){var self=this;msg=msg||"Validation failed: object is not even";var error=Number(this.obj)%2!=0;return this.assert(error,msg),this},Validation.prototype.isFinite=function(msg){var self=this;msg=msg||"Validation failed: object is infinite";var error=!isFinite(this.obj);return this.assert(error,msg),this},Validation.prototype.isFunction=function(msg){var self=this;msg=msg||"Validation failed: object is not a function";var error="function"!=typeof this.obj;return this.assert(error,msg),this},Validation.prototype.isBoolean=function(msg){var self=this;msg=msg||"Validation failed: object is not a boolean";var error="boolean"!=typeof this.obj;return this.assert(error,msg),this},Validation.prototype.isDefinedAndNonNull=function(msg){var self=this;msg=msg||"Validation failed: object is undefined or null";var error=void 0===this.obj||null===this.obj;return this.assert(error,msg),this},Validation.prototype.isDefined=function(msg){var self=this;msg=msg||"Validation failed: object is undefined";var error=void 0===this.obj;return this.assert(error,msg),this},Validation.prototype.isNull=function(msg){var self=this;msg=msg||"Validation failed: object is not null";var error=null!==this.obj;return this.assert(error,msg),this},Validation.prototype.isInstanceOf=function(clz,msg){var self=this;msg=msg||"Validation failed: object is not an instance of the given class";var error=!(this.obj instanceof clz);return this.assert(error,msg),this},Validation.prototype.isPrimitive=function(msg){var self=this;msg=msg||"Validation failed: object is not of a primitive type";var type=typeof this.obj,error="number"!==type&&"string"!==type&&"boolean"!==type;return this.assert(error,msg),this},Validation.prototype.isArray=function(msg){var self=this;msg=msg||"Validation failed: object is not an array";var error=!Array.isArray(this.obj);return this.assert(error,msg),this},Validation.prototype.isMatch=function(regex,msg){var self=this;msg=msg||"Validation failed: object does not match regular expression";var error=!new RegExp(regex).test(this.obj.toString());return this.assert(error,msg),this},Validation.prototype.isJSON=function(msg){var self=this;msg=msg||"Validation failed: object is not valid JSON";var error=!1;try{error="object"!=typeof JSON.parse(this.obj)}catch(e){error=!0}return this.assert(error,msg),this},Validation.prototype.hasLength=function(max,arg1,arg2){var self=this,msg=findFirstOfType([arg1,arg2],"string")||"Validation failed: length does not fall between the given values",min=findFirstOfType([arg1,arg2],"number")||0,str=this.obj.toString(),error=str.length>max;return error||(error=str.length<min),this.assert(error,msg),this},Validation.prototype.isPromise=function(msg){var self=this;msg=msg||"Validation failed: object is not a promise";var error="undefined"==typeof Promise||!(this.obj instanceof Promise);return this.assert(error,msg),this},Validation.prototype.isDate=function(msg){var self=this;msg=msg||"Validation failed: object is not a date";var error=!(this.obj instanceof Date);return this.assert(error,msg),this},Validation.prototype.isError=function(msg){var self=this;msg=msg||"Validation failed: object is not an error";var error=!(this.obj instanceof Error);return this.assert(error,msg),this},Validation.prototype.not=function(){return this.negated=!this.negated,this},Object.prototype.validate=function(){return Validation.validate(this)},Validation.validate=function(obj){var val;return new Validation(obj)},"undefined"!=typeof module&&(module.exports=Validation);